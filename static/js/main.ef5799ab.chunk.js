(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){e.exports=n(63)},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),c=n.n(o),i=n(4),u=n(2),s=n(27),l=n(6),m=n(7),d=n(9),p=n(8),E=n(10),v=n(3),f=n.n(v),h=n(12),b=n(18),y=n(28),N=n.n(y).a.create({baseURL:"https://simple-events-api.herokuapp.com/api/events",headers:{"Content-Type":"application/json"}}),O="SHOW_EDIT_FORM";n(59);var w=function(e){var t=e.event,n=t.name,a=t.location,o=t._id;return r.a.createElement("li",{className:"item"},r.a.createElement("i",{className:" calendar alternate outline icon"}),r.a.createElement("div",{className:"content"},r.a.createElement("h2",{className:"header"},n),r.a.createElement("div",{className:"description"},a)),r.a.createElement("div",{className:"right floated content"},r.a.createElement("button",{className:"ui orange button",onClick:function(){return e.handleEdit({name:n,location:a,id:o})}},"Edit"),r.a.createElement("button",{className:"ui red button",onClick:function(){return e.handleDelete(o)}},"Delete")))};n(60);var _=function(e){return r.a.createElement("div",{className:"ui segment loader-segment"},r.a.createElement("div",{className:"ui active inverted dimmer"},r.a.createElement("div",{className:"ui medium text loader"},"Loading Events from API...")))},j=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchEvents()}},{key:"renderLoader",value:function(){return this.props.events.length?this.renderEvents():r.a.createElement(_,null)}},{key:"renderEvents",value:function(){var e=this;return this.props.events.map(function(t){return r.a.createElement(w,{event:t,key:t._id,handleDelete:e.props.deleteEvent,handleEdit:e.props.showEditForm})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui celled list"},this.renderLoader()))}}]),t}(a.Component),g=Object(u.b)(function(e){return{events:e.events}},{fetchEvents:function(){return function(){var e=Object(h.a)(f.a.mark(function e(t){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/");case 2:n=e.sent,a=n.data,t({type:"UPDATE_EVENTS_VIEW",payload:a});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},deleteEvent:function(e){return function(){var t=Object(h.a)(f.a.mark(function t(n){var a,r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.delete("/".concat(e));case 2:return t.next=4,N.get("/");case 4:a=t.sent,r=a.data,n({type:"UPDATE_EVENTS_VIEW",payload:r});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},showEditForm:function(e){var t=e.name,n=void 0===t?"":t,a=e.location,r=void 0===a?"":a,o=e.id,c=void 0===o?"":o;return function(e){e({type:O}),e({type:"EVENT_DETAIL",payload:{name:n,location:r,id:c}})}}})(j);n(61);var T=Object(u.b)(function(e){return{events:e.events}},{showNewForm:function(){return function(e){e({type:"SHOW_NEW_FORM"}),e({type:"EVENT_DETAIL",payload:null})}},sortByName:function(e){return function(t){t({type:"UPDATE_EVENTS_VIEW",payload:Object(b.a)(e).sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})})}},sortByLocation:function(e){return function(t){t({type:"UPDATE_EVENTS_VIEW",payload:Object(b.a)(e).sort(function(e,t){return e.location>t.location?1:e.location<t.location?-1:0})})}}})(function(e){return r.a.createElement("div",{className:"ui segment segment-header"},r.a.createElement("h1",{className:"ui header"},"Event App"),r.a.createElement("div",{className:"action-buttons"},r.a.createElement("button",{className:"ui button primary",onClick:function(){return e.showNewForm()}},"Add new event"),r.a.createElement("button",{className:"ui button basic secondary",onClick:function(){return e.sortByName(e.events)}},"Sort by Name"),r.a.createElement("button",{className:"ui button basic secondary",onClick:function(){return e.sortByLocation(e.events)}},"Sort by Location")))}),D=(n(62),function(e){function t(e){var n;if(Object(l.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleNameChange=function(e){n.setState({name:e.target.value})},n.handleLocationChange=function(e){n.setState({location:e.target.value})},n.handleSubmit=function(e){e.preventDefault();var t=n.props.showForm,a=n.state.name,r=n.state.location;if(t===O){var o=n.state.id;n.props.patchUpdateEvent({name:a,location:r,id:o})}else n.props.postNewEvent({name:a,location:r})},n.props.showForm===O){var a=n.props.formDetail,r=a.name,o=a.location,c=a.id;n.state={name:r,location:o,id:c}}else n.state={name:"",location:""};return n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui container segment",id:"event-form"},r.a.createElement("h1",{className:"ui header"},this.props.showForm===O?"Edit Event":"New Event"),r.a.createElement("form",{className:"ui form"},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",value:this.state.name,onChange:this.handleNameChange,placeholder:"Name"})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Location"),r.a.createElement("input",{type:"text",value:this.state.location,onChange:this.handleLocationChange,placeholder:"Location"})),r.a.createElement("button",{className:"ui button",onClick:this.handleSubmit,type:"submit"},"Submit"),r.a.createElement("button",{className:"ui red button",onClick:this.props.hideForm,type:"button"},"Cancel")))}}]),t}(a.Component)),F=Object(u.b)(function(e){return{formDetail:e.formDetail,showForm:e.showForm}},{postNewEvent:function(e){var t=e.name,n=e.location;return function(){var e=Object(h.a)(f.a.mark(function e(a){var r,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post("/",{name:t,location:n});case 2:return e.next=4,N.get("/");case 4:r=e.sent,o=r.data,a({type:"UPDATE_EVENTS_VIEW",payload:o}),a({type:"HIDE_EVENT_FORM"});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},patchUpdateEvent:function(e){var t=e.name,n=e.location,a=e.id;return function(){var e=Object(h.a)(f.a.mark(function e(r){var o,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.patch("/".concat(a),{name:t,location:n});case 2:return e.next=4,N.get("/");case 4:o=e.sent,c=o.data,r({type:"UPDATE_EVENTS_VIEW",payload:c}),r({type:"HIDE_EVENT_FORM"});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},hideForm:function(){return function(e){e({type:"HIDE_EVENT_FORM"}),e({type:"EVENT_DETAIL",payload:null})}}})(D),k=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(m.a)(t,[{key:"renderContent",value:function(){return this.props.showForm?r.a.createElement(F,null):r.a.createElement("div",{className:"ui container"},r.a.createElement(T,null),r.a.createElement(g,null))}},{key:"render",value:function(){return this.renderContent()}}]),t}(a.Component),V=Object(u.b)(function(e){return{showForm:e.showForm}})(k),C=Object(i.c)({formDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EVENT_DETAIL":return t.payload;default:return e}},events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_EVENTS_VIEW":return t.payload;default:return e}},showForm:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"SHOW_NEW_FORM":return"SHOW_NEW_FORM";case O:return O;case"HIDE_EVENT_FORM":return!1;default:return e}}}),I=Object(i.d)(C,Object(i.a)(s.a));c.a.render(r.a.createElement(u.a,{store:I},r.a.createElement(V,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.ef5799ab.chunk.js.map